# Zolt-Jolt Compatibility Implementation Guide

You are an AI agent tasked with making the Zolt zkVM (Zig) produce proofs that can be verified by the Jolt zkVM (Rust). This is a cross-language cryptographic compatibility project requiring precise byte-level alignment.

## Project Locations

- **Zolt** (Zig): `/Users/matteo/projects/zolt`
- **Jolt** (Rust): `/Users/matteo/projects/jolt`
- **Zig Reference** (0.15.2): `/Users/matteo/projects/zolt/zig` - consult when Zig behavior is unclear

## Goal

Enable this workflow:
```
[Zolt Prover] --generates--> [Proof] --verified-by--> [Jolt Verifier]
```

A proof generated by `zolt prove program.elf -o proof.bin` should be verifiable by Jolt's verification logic.


## Key Reference Files

### Zolt (Modify These)
| File | Purpose |
|------|---------|
| `src/transcripts/mod.zig` | Add Blake2bTranscript |
| `src/zkvm/mod.zig` | Restructure JoltProof |
| `src/zkvm/prover.zig` | 7-stage prover |
| `src/zkvm/serialization.zig` | Arkworks format |
| `src/poly/commitment/mod.zig` | Complete Dory |

### Jolt (Reference Only - No Modifications)
| File | Purpose |
|------|---------|
| `jolt-core/src/transcripts/blake2b.rs` | Transcript implementation |
| `jolt-core/src/zkvm/proof_serialization.rs` | Proof structure |
| `jolt-core/src/zkvm/verifier.rs` | 8-stage verification |
| `jolt-core/src/subprotocols/sumcheck.rs` | Sumcheck format |
| `jolt-core/src/poly/commitment/dory/` | Dory commitment |

## Important Notes

### Zig 0.15.2 Reference
The Zig source is at `/Users/matteo/projects/zolt/zig`. Consult this when:
- Zig behavior seems incorrect
- Need to understand std library implementation
- Encounter compiler issues

### Commit Strategy
Make frequent commits after each small advancement:
```bash
git add -A && git commit -m "feat: implement Blake2b transcript"
git push
```

### Notes Location
Store implementation notes in `.agent/NOTES.md` and track progress in `.agent/TODO.md`.

### Cryptography Reference
You have access to jolt.md where you can find the paper Jolt in markdown
Always use it when not understanding the Cryptography

---

## Success Criteria

The implementation is complete when:
1. `zig build test` passes all 578+ tests
2. Zolt can generate a proof for any example program
3. The proof can be loaded and verified by Jolt's verifier
4. No modifications needed on the Jolt side
