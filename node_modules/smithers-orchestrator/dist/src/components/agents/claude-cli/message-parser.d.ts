/**
 * Message parser for Claude CLI output.
 * Parses streaming output into discrete message and tool-call entries.
 */
export interface TailLogEntry {
    index: number;
    type: 'message' | 'tool-call';
    content: string;
    toolName?: string;
}
export declare class MessageParser {
    private buffer;
    private entries;
    private currentIndex;
    private currentMessage;
    private maxEntries;
    private toolStartPattern;
    constructor(maxEntries?: number);
    parseChunk(chunk: string): void;
    /**
     * Add an entry while enforcing maxEntries limit.
     * Removes oldest entries when limit is exceeded.
     */
    private addEntry;
    private processBuffer;
    private findToolEnd;
    private extractToolName;
    flush(): void;
    /**
     * Reset parser state for reuse.
     */
    reset(): void;
    getEntries(): TailLogEntry[];
    getLatestEntries(n: number): TailLogEntry[];
}
export declare function truncateToLastLines(content: string, maxLines?: number): string;
//# sourceMappingURL=message-parser.d.ts.map