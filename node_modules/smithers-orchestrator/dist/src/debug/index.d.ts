/**
 * Debug and observability utilities
 */
import type { DebugEvent } from '../reconciler/types.js';
export type DebugLogLevel = 'debug' | 'info' | 'warn' | 'error';
export interface DebugCollector {
    emit(event: DebugEvent): void;
}
export type { DebugEvent };
export declare function redactSecrets(obj: unknown, seen?: WeakSet<object>): unknown;
declare function safeStringify(obj: unknown): string;
export declare function createDebugCollector(): DebugCollector;
export { safeStringify };
export interface DebugLogEntry {
    level: DebugLogLevel;
    component: string;
    message: string;
    timestamp: number;
    durationMs?: number;
    data?: Record<string, unknown>;
    error?: Error | undefined;
}
export interface Logger {
    debug(message: string, data?: Record<string, unknown>): void;
    info(message: string, data?: Record<string, unknown>): void;
    warn(message: string, data?: Record<string, unknown>): void;
    error(message: string, error?: Error, data?: Record<string, unknown>): void;
    /** Start a timed operation, returns end function that logs duration */
    time(operation: string): () => number;
    /** Create a child logger with additional context */
    child(context: Record<string, unknown>): Logger;
}
export declare function setLogLevel(level: DebugLogLevel): void;
export declare function getLogLevel(): DebugLogLevel;
export declare function createLogger(component: string, context?: Record<string, unknown>): Logger;
/** Wrap an async operation with error logging and optional rethrow */
export declare function withErrorLogging<T>(logger: Logger, operation: string, fn: () => Promise<T>, options?: {
    rethrow?: boolean;
    defaultValue?: T;
}): Promise<T | undefined>;
/** Wrap a sync operation with error logging */
export declare function withErrorLoggingSync<T>(logger: Logger, operation: string, fn: () => T, options?: {
    rethrow?: boolean;
    defaultValue?: T;
}): T | undefined;
//# sourceMappingURL=index.d.ts.map