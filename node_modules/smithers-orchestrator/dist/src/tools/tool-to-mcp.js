import { zodToJsonSchema } from '../utils/structured-output/zod-converter.js';
export function toolToMCPDefinition(name, tool) {
    const jsonSchema = zodToJsonSchema(tool.inputSchema);
    return {
        name,
        description: tool.description,
        inputSchema: {
            type: 'object',
            properties: jsonSchema['properties'] ?? {},
            ...(jsonSchema['required'] ? { required: jsonSchema['required'] } : {}),
        },
    };
}
export function createSmithersToolServer(tools, serverPath) {
    return {
        name: 'smithers-tools',
        command: 'bun',
        args: ['run', serverPath],
        env: {
            SMITHERS_TOOLS: JSON.stringify(Object.entries(tools).map(([name, tool]) => toolToMCPDefinition(name, tool))),
        },
    };
}
//# sourceMappingURL=tool-to-mcp.js.map