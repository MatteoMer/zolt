import type { CommandResult, VCSStatus, DiffStats, JJSnapshotResult, JJCommitResult } from './types.js';
/**
 * Execute a jj command
 */
export declare function jj(...args: string[]): Promise<CommandResult>;
/**
 * Get JJ change ID for current working copy
 */
export declare function getJJChangeId(ref?: string): Promise<string>;
/**
 * Create a JJ snapshot
 */
export declare function jjSnapshot(message?: string): Promise<JJSnapshotResult>;
/**
 * Create a JJ commit
 */
export declare function jjCommit(message: string): Promise<JJCommitResult>;
/**
 * Get JJ status
 */
export declare function getJJStatus(): Promise<VCSStatus>;
/**
 * Get JJ diff statistics
 */
export declare function getJJDiffStats(): Promise<DiffStats>;
/**
 * Check if we're in a jj repository
 */
export declare function isJJRepo(): Promise<boolean>;
/**
 * JJ state snapshot for out-of-loop access
 */
export interface JJStateSnapshot {
    changeId: string;
    description: string;
    status: VCSStatus;
    isJJRepo: boolean;
    timestamp: number;
}
/**
 * Get a point-in-time snapshot of JJ state synchronously.
 * Can be called outside of React component render cycles.
 *
 * Uses a short-lived cache (100ms) to avoid repeated jj calls
 * within the same synchronous execution context.
 *
 * @returns Cached JJStateSnapshot or null if no snapshot available yet
 */
export declare function useSnapshot(): JJStateSnapshot | null;
/**
 * Refresh the JJ state snapshot asynchronously.
 * Call this to update the snapshot that useSnapshot() returns.
 *
 * @returns Promise resolving to fresh JJStateSnapshot
 */
export declare function refreshSnapshot(): Promise<JJStateSnapshot>;
/**
 * Clear the cached snapshot.
 * Useful for testing or forcing a fresh fetch.
 */
export declare function clearSnapshotCache(): void;
//# sourceMappingURL=jj.d.ts.map